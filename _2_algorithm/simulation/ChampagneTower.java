//<p>æˆ‘ä»¬æŠŠç»ç’ƒæ¯æ‘†æˆé‡‘å­—å¡”çš„å½¢çŠ¶ï¼Œå…¶ä¸­&nbsp;<strong>ç¬¬ä¸€å±‚</strong>&nbsp;æœ‰ <code>1</code> ä¸ªç»ç’ƒæ¯ï¼Œ <strong>ç¬¬äºŒå±‚</strong>&nbsp;æœ‰ <code>2</code> ä¸ªï¼Œä¾æ¬¡ç±»æ¨åˆ°ç¬¬ 100 å±‚ï¼Œæ¯ä¸ªç»ç’ƒæ¯ (250ml) å°†ç››æœ‰é¦™æ§Ÿã€‚</p>
//
//<p>ä»é¡¶å±‚çš„ç¬¬ä¸€ä¸ªç»ç’ƒæ¯å¼€å§‹å€¾å€’ä¸€äº›é¦™æ§Ÿï¼Œå½“é¡¶å±‚çš„æ¯å­æ»¡äº†ï¼Œä»»ä½•æº¢å‡ºçš„é¦™æ§Ÿéƒ½ä¼šç«‹åˆ»ç­‰æµé‡çš„æµå‘å·¦å³ä¸¤ä¾§çš„ç»ç’ƒæ¯ã€‚å½“å·¦å³ä¸¤è¾¹çš„æ¯å­ä¹Ÿæ»¡äº†ï¼Œå°±ä¼šç­‰æµé‡çš„æµå‘å®ƒä»¬å·¦å³ä¸¤è¾¹çš„æ¯å­ï¼Œä¾æ¬¡ç±»æ¨ã€‚ï¼ˆå½“æœ€åº•å±‚çš„ç»ç’ƒæ¯æ»¡äº†ï¼Œé¦™æ§Ÿä¼šæµåˆ°åœ°æ¿ä¸Šï¼‰</p>
//
//<p>ä¾‹å¦‚ï¼Œåœ¨å€¾å€’ä¸€æ¯é¦™æ§Ÿåï¼Œæœ€é¡¶å±‚çš„ç»ç’ƒæ¯æ»¡äº†ã€‚å€¾å€’äº†ä¸¤æ¯é¦™æ§Ÿåï¼Œç¬¬äºŒå±‚çš„ä¸¤ä¸ªç»ç’ƒæ¯å„è‡ªç››æ”¾ä¸€åŠçš„é¦™æ§Ÿã€‚åœ¨å€’ä¸‰æ¯é¦™æ§Ÿåï¼Œç¬¬äºŒå±‚çš„é¦™æ§Ÿæ»¡äº† - æ­¤æ—¶æ€»å…±æœ‰ä¸‰ä¸ªæ»¡çš„ç»ç’ƒæ¯ã€‚åœ¨å€’ç¬¬å››æ¯åï¼Œç¬¬ä¸‰å±‚ä¸­é—´çš„ç»ç’ƒæ¯ç››æ”¾äº†ä¸€åŠçš„é¦™æ§Ÿï¼Œä»–ä¸¤è¾¹çš„ç»ç’ƒæ¯å„è‡ªç››æ”¾äº†å››åˆ†ä¹‹ä¸€çš„é¦™æ§Ÿï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
//
//<p><img alt="" src="https://s3-lc-upload.s3.amazonaws.com/uploads/2018/03/09/tower.png" style="height: 241px; width: 350px;" /></p>
//
//<p>ç°åœ¨å½“å€¾å€’äº†éè´Ÿæ•´æ•°æ¯é¦™æ§Ÿåï¼Œè¿”å›ç¬¬ <code>i</code> è¡Œ <code>j</code>&nbsp;ä¸ªç»ç’ƒæ¯æ‰€ç››æ”¾çš„é¦™æ§Ÿå ç»ç’ƒæ¯å®¹ç§¯çš„æ¯”ä¾‹ï¼ˆ <code>i</code> å’Œ <code>j</code>&nbsp;éƒ½ä»0å¼€å§‹ï¼‰ã€‚</p>
//
//<p>&nbsp;</p>
//
//<pre>
//<strong>ç¤ºä¾‹ 1:</strong>
//<strong>è¾“å…¥:</strong> poured(å€¾å€’é¦™æ§Ÿæ€»æ¯æ•°) = 1, query_glass(æ¯å­çš„ä½ç½®æ•°) = 1, query_row(è¡Œæ•°) = 1
//<strong>è¾“å‡º:</strong> 0.00000
//<strong>è§£é‡Š:</strong> æˆ‘ä»¬åœ¨é¡¶å±‚ï¼ˆä¸‹æ ‡æ˜¯ï¼ˆ0ï¼Œ0ï¼‰ï¼‰å€’äº†ä¸€æ¯é¦™æ§Ÿåï¼Œæ²¡æœ‰æº¢å‡ºï¼Œå› æ­¤æ‰€æœ‰åœ¨é¡¶å±‚ä»¥ä¸‹çš„ç»ç’ƒæ¯éƒ½æ˜¯ç©ºçš„ã€‚
//
//<strong>ç¤ºä¾‹ 2:</strong>
//<strong>è¾“å…¥:</strong> poured(å€¾å€’é¦™æ§Ÿæ€»æ¯æ•°) = 2, query_glass(æ¯å­çš„ä½ç½®æ•°) = 1, query_row(è¡Œæ•°) = 1
//<strong>è¾“å‡º:</strong> 0.50000
//<strong>è§£é‡Š:</strong> æˆ‘ä»¬åœ¨é¡¶å±‚ï¼ˆä¸‹æ ‡æ˜¯ï¼ˆ0ï¼Œ0ï¼‰å€’äº†ä¸¤æ¯é¦™æ§Ÿåï¼Œæœ‰ä¸€æ¯é‡çš„é¦™æ§Ÿå°†ä»é¡¶å±‚æº¢å‡ºï¼Œä½äºï¼ˆ1ï¼Œ0ï¼‰çš„ç»ç’ƒæ¯å’Œï¼ˆ1ï¼Œ1ï¼‰çš„ç»ç’ƒæ¯å¹³åˆ†äº†è¿™ä¸€æ¯é¦™æ§Ÿï¼Œæ‰€ä»¥æ¯ä¸ªç»ç’ƒæ¯æœ‰ä¸€åŠçš„é¦™æ§Ÿã€‚
//</pre>
//
//<p>
// <meta charset="UTF-8" /></p>
//
//<p><strong>ç¤ºä¾‹ 3:</strong></p>
//
//<pre>
//<strong>è¾“å…¥:</strong> poured = 100000009, query_row = 33, query_glass = 17
//<strong>è¾“å‡º:</strong> 1.00000
//</pre>
//
//<p>&nbsp;</p>
//
//<p><strong>æç¤º:</strong></p>
//
//<ul> 
// <li><code>0 &lt;=&nbsp;poured &lt;= 10<sup>9</sup></code></li> 
// <li><code>0 &lt;= query_glass &lt;= query_row&nbsp;&lt; 100</code></li> 
//</ul>
//
//<div><li>ğŸ‘ 149</li><li>ğŸ‘ 0</li></div>
package org.example.leetcode.problems._2_algorithm.simulation;

// 799.é¦™æ§Ÿå¡”
// å¼€é¢˜æ—¶é—´ï¼š2022-11-20 09:17:38
public class ChampagneTower {
  public static void main(String[] args) {
    Solution solution = new ChampagneTower().new Solution();
  }
  
  // leetcode submit region begin(Prohibit modification and deletion)
  class Solution {
    public double champagneTower9(int poured, int query_row, int query_glass) {
      int len = query_row + 1;
      double[][] champagnes = new double[len][len];
      champagnes[0][0] = poured;
      
      for (int i = 1; i < len; i++) {
        for (int j = 0; j <= i; j++) {
          if (j > 0 && champagnes[i - 1][j - 1] > 1)
            champagnes[i][j] += (champagnes[i - 1][j - 1] - 1) / 2.0;
          if (j < i && champagnes[i - 1][j] > 1)
            champagnes[i][j] += (champagnes[i - 1][j] - 1) / 2.0;
        }
      }
      
      return Math.min(champagnes[query_row][query_glass], 1.0);
    }
    
    public double champagneTower(int poured, int query_row, int query_glass) {
      double[] rowPre = {poured};
      
      for (int i = 1; i <= query_row; i++) {
        double[] rowCur = new double[i + 1];
        for (int j = 0; j < i; j++) {
          if (rowPre[j] > 1) {
            double incr = (rowPre[j] - 1) / 2.0;
            rowCur[j] += incr;
            rowCur[j + 1] += incr;
          }
        }
        rowPre = rowCur;
      }
      
      return Math.min(rowPre[query_glass], 1.0);
    }
  }
  // leetcode submit region end(Prohibit modification and deletion)
}